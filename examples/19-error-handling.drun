version: 2.0

task "error demo" means "Demonstrate error handling capabilities":
  info "ğŸš€ Starting error handling demonstration"
  
  info "File exists: {file exists(nonexistent.txt)}"
  warn "âš ï¸  File does not exist, but continuing..."
  info "âœ… Handled missing file gracefully"
  
  info "ğŸ”„ Testing ignore functionality"
  ignore
  info "âœ… Ignore executed successfully"
  
  success "Error handling demo completed!"

task "throw demo" means "Demonstrate throw functionality":
  given $should_fail as boolean defaults to "false"
  
  info "ğŸš€ Starting throw demonstration"
  
  if should_fail is "true":
    warn "âš ï¸  About to throw an error as requested"
    throw "This is a custom error thrown by user request"
  else:
    info "âœ… No error thrown, continuing normally"
  
  success "Throw demo completed successfully!"

task "file error handling" means "Handle file operation errors":
  info "ğŸ”„ Testing file operations with error handling"
  
  # File operations would go here (create, write, delete)
  info "âœ… File operations completed successfully"
  info "ğŸ§¹ Cleanup completed"
  
  success "File error handling completed!"

task "conditional errors" means "Conditional error throwing":
  requires $environment as string from ["dev", "staging", "production"]
  given $strict_mode as boolean defaults to "false"
  
  info "ğŸŒ Environment: {environment}"
  info "ğŸ”’ Strict mode: {strict_mode}"
  
  if environment is "production":
    if strict_mode is "true":
      warn "âš ï¸  Production environment with strict mode enabled"
      info "âœ… All production checks passed"
    else:
      warn "âš ï¸  Production environment without strict mode"
      throw "Strict mode is required in production environment"
  
  if environment is "dev":
    info "ğŸ”§ Development environment - all checks skipped"
  
  if environment is "staging":
    info "ğŸ§ª Staging environment - running basic checks"
  
  success "Conditional error handling completed!"

